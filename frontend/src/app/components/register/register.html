<app-container>

  <div
    style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%; height: 100%">
    <div
      style="width: calc(60vh - 100px);; overflow: auto; background-color: #1a1d20; border-radius: 5px; padding: 20px; box-shadow: 3px 3px 6px rgba(0,0,0,0.5);">
      <div>
        <div>
          <div style="text-align: center; padding-right: 20px; padding-left: 20px">
            <h2 class="text-primary" style="color: white; margin: 0">Registrarse</h2>
          </div>

          <form [formGroup]="form"
                style="background-color: var(--background-four); border: 2px transparent solid; border-radius: 5px; margin-top: 20px">

            <div>

              <div style="margin-bottom: 20px; display: flex; justify-content: center; align-items: center">
                <div style="width: fit-content; display: flex; justify-content: center; align-items: end">
                  <div
                    style="width: 150px; height: 150px; overflow: hidden; border-radius: 50%; margin: 0 auto; border: 1px transparent solid">
                    <img *ngIf="this.previewCoverImage" src="{{ this.previewCoverImage }}" alt="No Image"
                         style="width: 100%; height: 100%; object-fit: cover; object-position: center;">

                    <img *ngIf="!this.previewCoverImage" src="{{ getLocalImage('No_Image_Available.jpg') }}"
                         style="width: 100%; height: 100%; object-fit: cover; object-position: center;">
                  </div>
                  <input
                    type="file"
                    accept="image/*"
                    #fileInput
                    hidden
                    (change)="onImageChange($event)"
                  />

                  <!-- Botón que abre el selector -->
                  <button
                    type="button"
                    (click)="fileInput.click()" mat-raised-button color="primary"
                    style="margin-left: -50px; border-radius: 10px; width:50px; height: 50px; isplay: flex; justify-content: center; align-items: center; color: white;"

                  >
                    <div>
                      <i class="bi bi-pencil" style="width: 50px; height: 50px"></i>
                    </div>
                  </button>
                </div>

              </div>

              <div style="display: flex; justify-items: center; align-items: center; gap:10px">
                <mat-form-field color="primary"
                                style="border-radius: 10px; width: calc(100% );"
                >
                  <mat-label>Nombre</mat-label>
                  <span matPrefix>
                  <i class="bi bi-person-circle"
                     style="font-size: 24px; color: white; margin-left: 10px; margin-right: 10px"></i>
                </span>
                  <input formControlName="name" style=";width: 100%; " matInput placeholder="Introduzca su nombre..."
                  >
                </mat-form-field>

                <mat-form-field color="primary"
                                style="border-radius: 10px; width: calc(100% );"
                >
                  <mat-label>Apellidos</mat-label>

                  <input formControlName="subname" style=";width: 100%; " matInput
                         placeholder="Introduzca su apellido..."
                  >
                </mat-form-field>
              </div>


              <mat-form-field color="primary"
                              style="border-radius: 10px; width: calc(100% );"
              >
                <mat-label>Email</mat-label>
                <span matPrefix>
                  <i class="bi bi-envelope"
                     style="font-size: 24px; color: white; margin-left: 10px; margin-right: 10px"></i>
                </span>
                <input type="email" formControlName="email" style=";width: 100%; " matInput
                       placeholder="Introduzca su correo..."
                >
              </mat-form-field>

              <mat-form-field color="primary"
                              style="border-radius: 10px; width: calc(100% );"
              >
                <mat-label>Telefono</mat-label>
                <span matPrefix>
                  <i class="bi bi-phone"
                     style="font-size: 24px; color: white; margin-left: 10px; margin-right: 10px"></i>
                </span>
                <input formControlName="phone" style=";width: 100%; " matInput placeholder="Introduzca su telefono..."
                >
              </mat-form-field>


              <mat-form-field color="primary"
                              style="border-radius: 10px; width: calc(100% );"
              >
                <mat-label>Contraseña</mat-label>
                <span matPrefix>
                  <i class="bi bi-lock"
                     style="font-size: 24px; color: white; margin-left: 10px; margin-right: 10px"></i>
                </span>
                <input formControlName="password" type="password" style=";width: 100%; " matInput
                       placeholder="Introduzca su contraseña..."
                >
              </mat-form-field>

              <mat-form-field color="primary"
                              style="border-radius: 10px; width: calc(100% );"
              >
                <mat-label>Repetir contraseña</mat-label>
                <span matPrefix>
                  <i class="bi bi-lock"
                     style="font-size: 24px; color: white; margin-left: 10px; margin-right: 10px"></i>
                </span>
                <input formControlName="repeatPassword" type="password" style=";width: 100%; " matInput
                       placeholder="Introduzca de nuevo su contraseña..."
                >
              </mat-form-field>

            </div>

            <div style="width: 100%">

            </div>
            <div style="width: 100%; display: flex; justify-content: end; align-items: center">
              <button (click)="register()" mat-raised-button color="primary"
                      style="border-radius:10px; width:100%; display:flex; justify-content:center; align-items:center; gap:10px; padding:10px;">
                <span>Crear cuenta</span>
                <i class="bi bi-person-plus" style="line-height:1; vertical-align:middle; margin-left: 10px"></i>
              </button>
            </div>

            <div style="margin-top: 10%; width: 100%; text-align: center">
               <span class="text-primary" style="font-size: 14px; color: white">Si tienes cuenta puedes iniciar sesión pulsando <a
                 [routerLink]="['/login']"  style="color: white" >aquí</a></span>
            </div>


          </form>
        </div>
      </div>
    </div>

  </div>


</app-container>
