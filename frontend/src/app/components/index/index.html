<mat-drawer-container class="example-container">
  <mat-drawer (closedStart)="onDrawerClosed()" [mode]="drawerMode" position="end" [opened]="isOpen">
    <app-filters (search)="searchFunc($event,true)"></app-filters>

  </mat-drawer>
  <mat-drawer-content>
    <app-container>
      <div style="width: 100%; height: calc(100vh - 132px); overflow: auto">
        <div style="width: 100%; display: flex; justify-content: center; align-items: center;  ">

          <div style="width: 100%; display: flex; justify-content: center; align-items: center">
            <div style="display: flex; justify-content: center; align-items: center; width: 100%;">
              <mat-form-field color="primary"
                              style="border-radius: 10px; width: calc(100% );"
                              appearance="fill">
                 <span matPrefix>
                  <i class="bi bi-search" style="font-size: 24px; color: white; margin-left: 10px; margin-right: 10px"></i>
                </span>
                <input style=";width: 100%; " matInput placeholder="Buscar..." [(ngModel)]="this.search"
                       (keyup.enter)="searchFunc({},true)" (input)="searchFunc({},true)">
              </mat-form-field>
              <div style="margin-left: 10px;">
                <button (click)="openDrawer()" color="primary" mat-raised-button style="border-radius: 10px; ">
                  <i class="bi bi-filter-right" style="font-size: 24px"></i>
                </button>
              </div>
            </div>
          </div>
        </div>


        <div
          style="
    padding: 10px;
    height: calc(100vh - 230px);
    overflow: auto;
    display: grid;
    justify-content: center;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 10px;
    color: white;
    font-family: Arial;
  "
        >
          <div
            (click)="details(game.id)"
            *ngFor="let game of games"
            style="
      border-radius: 5px;
      background-color: #363636;
      width: 150px;
      padding: 20px;
      cursor: pointer;
      box-shadow: 3px 3px 6px rgba(0,0,0,0.5);
      transition: box-shadow 0.3s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
    "
            onmouseover="this.style.boxShadow='0 0 8px rgb(123, 31, 162)'"
            onmouseout="this.style.boxShadow='3px 3px 6px rgba(0,0,0,0.5)'"
            [ngStyle]="isPhone ? {'width': 'calc(100% - 40px)'} : {'width': '150px'}"
          >

            <!-- IMAGEN -->
            <div style="width: 150px; height: 200px; overflow: hidden;">
              <img
                *ngIf="game.cover?.url"
                src="{{ getImage(game.cover.url) }}"
                alt="cover"
                style="width: 100%; height: 100%; object-fit: cover;"
              />
              <img
                *ngIf="!game.cover?.url"
                src="{{ getLocalImage('No_Image_Available.jpg') }}"
                alt="cover"
                style="width: 100%; height: 100%; object-fit: cover;"
              />
            </div>

            <!-- TÃTULO CON ALTURA FIJA -->
            <div
              style="
        margin-top: 20px;
        text-align: center;
        height: 40px;        /* ðŸ‘ˆ CLAVE */
        display: flex;
        align-items: center;
        justify-content: center;
      "
            >
      <span style="word-break: break-word;">
        {{ game.name }}
      </span>
            </div>

          </div>
        </div>



      </div>


      <div
        style=" display: flex; justify-content: center; align-items: center;  width: 100%; gap: 10px; color: white">
        <button mat-raised-button *ngIf="page > 1" color="primary"
                style=" width: 40px; height: 40px; color: white; cursor: pointer; border-radius: 10px"
                (click)="paginator('prev')"
        ><i class="bi bi-chevron-left"></i></button>
        <p>{{ this.page }}</p>
        <button mat-raised-button color="primary" *ngIf="this.games.length >= this.limit"
                style="width: 40px; height: 40px; color: white; cursor: pointer; border-radius: 10px"
                (click)="paginator('next')"
        ><i class="bi bi-chevron-right"></i></button>
      </div>

    </app-container>
  </mat-drawer-content>
</mat-drawer-container>




